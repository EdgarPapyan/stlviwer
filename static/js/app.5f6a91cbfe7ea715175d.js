webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i=n("Ml+6"),r=n("4sbQ"),a=n("g+Hc"),o=n("BMSc"),c=n("M8+e"),l=n("Puvr"),h={name:"STLviwer",components:{VueCircle:n.n(l).a},data:function(){return{scene:null,renderer:null,camera:null,controls:null,points:[],height:0,object:null,mouse:null,showProgress:!0,fill:{gradient:["#ffffff","#ffffff","#ffffff"]}}},methods:{init:function(){var e=(new a.a).load("static/empty_warehouse_01_2k.hdr",function(){e.mapping=i.h}),t=n("PMNR"),s=n("UBQj"),l=this,h=document.getElementById("canvas");this.renderer=new i.I({clearColor:0,clearAlpha:1});var p=window.innerWidth,u=window.innerHeight;this.renderer.setSize(p,u),this.renderer.setClearColor(16777215,1),h.appendChild(this.renderer.domElement),this.scene=new i.A,this.scene.background=new i.e(2500134);var d=new r.a,f=new i.a(1052688);this.scene.add(f);var m=new i.y(16777215,1,0);m.position.set(-200,0,-200),this.scene.add(m);var v=new i.y(16777215,1,0);v.position.set(200,0,200),this.scene.add(v);var w=new i.y(16777215,1,0);w.position.set(0,200,200),this.scene.add(w);var y=new i.y(16777215,1,0);y.position.set(0,-200,-200),this.scene.add(y);s.getBinaryContent("static/test1.zip",{progress:function(e){l.$refs.myUniqueID.updateProgress(e.percent/5*4)},callback:function(n,s){if(n)throw n;t.loadAsync(s).then(function(t){t.files["45257571_shell_occlusion_l.stl"].async("arrayBuffer").then(function(n){l.$refs.myUniqueID.updateProgress(90);var s=d.parse(n),r=(new i.w({color:304342,roughness:0,metalness:.5}),new i.v({color:152943,transmission:0,roughness:0,envMapIntensity:.1,envMap:e}));(s=c.a(s)).computeVertexNormals();var a=new i.u(s,r);a.position.set(0,0,0),a.rotation.x=-Math.PI/2,a.rotation.z=-Math.PI/2-.5,l.$refs.myUniqueID.updateProgress(100),t.files["45257571_shell_occlusion_u.stl"].async("arrayBuffer").then(function(e){var t=d.parse(e);(t=c.a(t)).computeVertexNormals();var n=new i.u(t,r);n.position.set(0,0,0),n.rotation.x=-Math.PI/2,n.rotation.z=-Math.PI/2-.5,a.name="lower",n.name="upper",l.scene.add(a),l.scene.add(n),l.showProgress=!1})})})}}),this.points.push(new i.H(0,0,0)),this.camera=new i.x(30,p/u,1,2e3),this.camera.position.y=0,this.camera.position.z=0,this.camera.position.x=-250,this.camera.lookAt(new i.H(0,0,0)),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=i.b,this.controls=new o.a(this.camera,this.renderer.domElement)},animate:function(){this.controls.update(),this.controls.autoRotate=!0,requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}},mounted:function(){var e=this;this.init(),this.animate(),this.controls.addEventListener("change",function(t){var n=e.scene.getObjectByName("upper"),s=e.scene.getObjectByName("lower");n&&(e.controls.object.position.y>245?n.visible=!1:n.visible=!0),s&&(e.controls.object.position.y<-245?s.visible=!1:s.visible=!0)})}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app"},[t("div",{attrs:{id:"canvas"}}),this._v(" "),this.showProgress?t("div",{staticClass:"progress"},[t("vue-circle",{ref:"myUniqueID",attrs:{progress:0,size:150,reverse:!1,"line-cap":"round",fill:this.fill,"empty-fill":"rgba(0, 0, 0, .1)","animation-start-value":0,"start-angle":0,"insert-mode":"append",thickness:4,"show-percent":!0}})],1):this._e()])},staticRenderFns:[]};var u=n("VU/8")(h,p,!1,function(e){n("iycn")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:u},template:"<App/>"})},iycn:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5f6a91cbfe7ea715175d.js.map